{#<!doctype html>#}
{#<html lang="en">#}
{#<head>#}
{#    <meta charset="UTF-8">#}
{#    <meta name="viewport"#}
{#          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">#}
{#    <meta http-equiv="X-UA-Compatible" content="ie=edge">#}
{#    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">#}
{#    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>#}
{#    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">#}
{#    <title>Menu_items</title>#}
{#    <style>#}
{#        .menu_container {#}
{#            display: flex;#}
{#            align-items: center;#}
{#            justify-content: space-between /*TODO space between space _around ...  */#}
{#        }#}
{##}
{#        .item-footer {#}
{#            text-align: left !important;#}
{#            display: flex !important;#}
{#            align-items: center;#}
{#            margin-bottom: 10px !important;#}
{#        }#}
{##}
{#        @media only screen and (max-width: 349px) {#}
{#            .menu_container {#}
{#                justify-content: center#}
{#            }#}
{##}
{#            .menu-item {#}
{#                flex-basis: 14.5rem#}
{#            }#}
{##}
{#            .add-but {#}
{#                margin: 0 0 0 45px !important;#}
{#                padding: 2.5px 31px !important;#}
{#            }#}
{##}
{#            .item-price {#}
{#                flex-basis: 22px !important;#}
{#            }#}
{#        }#}
{#    </style>#}
{#</head>#}
{#<body>#}
{#<div class="container mt-3">#}
{#  <h2>Show Collapsible Content By Default</h2>#}
{#  <p>Add the show class next to the collapse class to show the content by default.</p>#}
{#  <p>Click on the button to toggle between showing and hiding content.</p>#}
{#  <button type="button" class="btn btn-primary" data-bs-toggle="collapse" data-bs-target="#demo">Simple collapsible</button>#}
{#  <div id="demo" class="collapse show">#}
{#    Lorem ipsum dolor sit amet, consectetur adipisicing elit,#}
{#    sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,#}
{#    quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.#}
{#  </div>#}
{#</div>#}
<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
{% for category, menu_items in data['menu_items'].items() %}
    <button class="btn btn-warning fs-4 fw-normal" style="margin-bottom:0;padding: 12px 0!important; width:40%"
            data-bs-toggle="collapse" data-bs-target="#{{ category }}">
        {{ category }}
    </button>
        <i class="bi bi-caret-down-fill collapse-icon" style="margin:0 0 0 52vw; color:#ffc107" id="{{ category }}-icon" data-bs-toggle="collapse" onclick="rotate(this.id)" data-bs-target="#{{ category }}"></i>
    <div id="{{ category }}" class="container-fluid bg-secondary collapse show"
         style="padding:1.5rem !important ;">
{#    <button class="btn btn-warning fs-4 fw-normal" style="margin-bottom:0;padding: 12px 0!important; width:40%" data-bs-toggle="collapse" data-bs-target="#{{ category }}">{{ category }}</button>#}
    <div id= "{{ category }}" class="container-fluid collapse show" style="padding:1.5rem !important;background-image:url('/static/images/bg.jpg')">
        <div class="row menu_container my_2">
            {% for item in menu_items %}
                {% set items_len = menu_items | length %}
                {#                col-{{ items_len//12 }} col-sm-12#}
                <div class="text-center menu-item" style="width:13rem;">
                    <div class="card my-2" style="border:none; background:#222528;  border-radius: 10px!important">
                        <div>
                            <img alt="{{ item.name }}" src="{{ item.image_url }}" class="card-img-top mt-3"
                                 style="width:80%!important; height:136px!important;">
                        </div>
                        <h5 class="card-title text-warning my-2">{{ item.name }}</h5>
                        <h6 class="card-text text-white ms-3 item-footer">
                            {% set price = item.price %}
                            {% set discount = item.discount if item.discount else 0 %}
                            <strong style="color:darkorange; flex-basis: 12px;">$</strong>
                            {% if discount %}
                                <strong style="color:whitesmoke ;flex-basis: 77px;"
                                        class="item-price text-decoration-line-through">
                                    {{ price//1000 }}
                                </strong>
                                <strong style="color:whitesmoke ;flex-basis: 77px;">{{ (price - discount)//1000 }}</strong>
                                <button class="btn btn-warning add-but"
                                        style="padding:2.5px 15px;margin: 0 16px 0 0"
                                        data-bs-toggle="modal"
                                        data-bs-target="#myModal" onclick="func(this.id)"
                                        id="{{ item.id }} {{ item.name }}">
                                    Add
                                    {#                                    <i class="bi bi-cart-plus-fill"></i>#}
                                </button>
                            {% else %}
                                <strong style="color:whitesmoke ;flex-basis: 77px;"
                                        class="item-price">
                                    {{ price//1000 }}
                                </strong>
                                <button class="btn btn-warning add-but"
                                        style="padding:2.5px 15px;margin: 0 13px 0 0" data-bs-toggle="modal"
                                        data-bs-target="#myModal" onclick="func(this.id)"
                                        id="{{ item.id }} {{ item.name }}">
                                    Add
                                    {#                                    <i class="bi bi-cart-plus-fill"></i>#}
                                </button>
                            {% endif %}
                        </h6>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
    <hr class="bg-warning" style="margin:0!important;">
{% endfor %}
{#</body>#}
{#</html>#}